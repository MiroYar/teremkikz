"use strict";
/*MYGallery ver. 0.1*/
function Gallery(a){function b(a,b){let c=document.createElement("img"),d=b*y-y;c.style.transform="translate("+d+"px, 0)",c.src=v[a],c.dataset.srcZoom=w[a],c.onclick=k,c.classList.add("slider__item"),0==b?u.insertBefore(c,u.children[0]):u.appendChild(c)}function c(a,b){if(!1==b)r+1==q?(a=0,r=0):(a=r+1,r++);else{function b(){0==r?r=q-1:r--}1>=r-x?(a=q+r-3,b()):(a=r-3,b())}return a}function d(a){let b=t.querySelectorAll(".slider__item");for(var a=0;a<b.length;a++)v[a]=b[a].src,w[a]=b[a].dataset.srcZoom,b[a].remove();return a}function e(){q=d(0),r=q-2;for(let a,d=0;d<3;d++)a=c(0,!1),b(a,d)}function f(){s.style.height=s.offsetWidth/z+"px",y=s.offsetWidth-20}function g(){C=!0;let a=u.querySelectorAll(".slider__item");for(let b,c=0;c<a.length;c++)b=(c-1)*y-y,a[c].style.transform="translate("+b+"px, 0)";a[0].addEventListener("transitionend",function(){a[0].remove();let d=c(0,!1);b(d,2),C=!1})}function h(){C=!0;let a=u.querySelectorAll(".slider__item");for(let b,c=0;c<a.length;c++)b=c*y,a[c].style.transform="translate("+b+"px, 0)";a[2].addEventListener("transitionend",function(){a[2].remove();let d=c(0,!0);b(d,0),C=!1})}function i(){!1==C&&(g(),p())}function j(){!1==C&&(h(),p())}function k(){console.log(`.gallery${a.replace(/\D/g,"")}__bubblepanel`);D.style.display="grid",I=new BubblesPanel(`.gallery${a.replace(/\D/g,"")}__bubblespanel`);let b=this.dataset.srcZoom,c=D.querySelector(".popup__imgzoom");c.src=b,null!=K&&clearTimeout(K)}function l(){D.style.display="none",I=null;let a=D.querySelector(".popup__imgzoom");a.src="#",null!=K&&o()}function m(){let a=D.querySelector(".popup__imgzoom"),b=a.src,c=w.indexOf(b);c+1==q?c=0:c++,a.src=w[c]}function n(){let a=D.querySelector(".popup__imgzoom"),b=a.src,c=w.indexOf(b);0==c?c=q-1:c--,a.src=w[c]}function o(){J.checked?(K=setTimeout(function a(){g(),K=setTimeout(a,L)},L),F.classList.add("slideshowbtn-stop")):(clearTimeout(K),K=null,F.classList.remove("slideshowbtn-stop"))}function p(){null!=K&&(clearTimeout(K),o())}let q,r,s=document.querySelector(a),t=s.querySelector(".slider"),u=t.querySelector(".slider__wrapper"),v=[],w=[],x=1,y=550;e();let z=570/300;window.addEventListener("resize",f),f();let A=t.querySelector(".btnright"),B=t.querySelector(".btnleft"),C=!1;A.onclick=i,B.onclick=j;let D=s.querySelector(".popup"),E=D.querySelector(".closebtn"),F=D.querySelector(".slideshowbtn"),G=D.querySelector(".btnleft"),H=D.querySelector(".btnright"),I={};E.onclick=l,F.onclick=function(){J.checked=!J.checked,o()},G.onclick=n,H.onclick=m;let J=t.querySelector(".slideshow"),K=null,L=5e3;J.oninput=o,o()}